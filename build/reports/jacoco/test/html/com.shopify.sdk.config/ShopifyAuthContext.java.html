<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ShopifyAuthContext.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">shopify-spring-sdk</a> &gt; <a href="index.source.html" class="el_package">com.shopify.sdk.config</a> &gt; <span class="el_source">ShopifyAuthContext.java</span></div><h1>ShopifyAuthContext.java</h1><pre class="source lang-java linenums">package com.shopify.sdk.config;

import com.shopify.sdk.model.common.ApiVersion;
import com.shopify.sdk.model.common.LogFunction;
import com.shopify.sdk.model.common.LogSeverity;
import lombok.Builder;
import lombok.Data;

import java.util.List;
import java.util.regex.Pattern;

/**
 * Configuration context for Shopify SDK.
 * Maps to Node.js ConfigInterface and ConfigParams.
 */
<span class="nc bnc" id="L16" title="All 130 branches missed.">@Data</span>
<span class="pc bpc" id="L17" title="8 of 16 branches missed.">@Builder(toBuilder = true)</span>
public class ShopifyAuthContext {
    
    /**
     * The API key for your app (Client ID).
     */
<span class="fc" id="L23">    private final String apiKey;</span>
    
    /**
     * The API secret key for your app (Client Secret).
     */
<span class="nc" id="L28">    private final String apiSecretKey;</span>
    
    /**
     * The scopes your app needs to access the API.
     */
<span class="fc" id="L33">    private final List&lt;String&gt; scopes;</span>
    
    /**
     * The host name of your app.
     */
<span class="nc" id="L38">    private final String hostName;</span>
    
    /**
     * The scheme to use for the app host.
     */
    @Builder.Default
<span class="nc" id="L44">    private final String hostScheme = &quot;https&quot;;</span>
    
    /**
     * The API version to use.
     */
    @Builder.Default
<span class="nc" id="L50">    private final ApiVersion apiVersion = ApiVersion.LATEST;</span>
    
    /**
     * Whether the app is embedded in the Shopify admin.
     */
    @Builder.Default
<span class="nc" id="L56">    private final boolean isEmbeddedApp = true;</span>
    
    /**
     * Whether the app is a Shopify admin custom store app.
     */
    @Builder.Default
<span class="nc" id="L62">    private final boolean isCustomStoreApp = false;</span>
    
    /**
     * An app-wide API access token (for custom apps).
     */
<span class="nc" id="L67">    private final String adminApiAccessToken;</span>
    
    /**
     * The user agent prefix to use for API requests.
     */
<span class="nc" id="L72">    private final String userAgentPrefix;</span>
    
    /**
     * An app-wide API access token for the storefront API (for custom apps).
     */
<span class="nc" id="L77">    private final String privateAppStorefrontAccessToken;</span>
    
    /**
     * Override values for Shopify shop domains.
     */
<span class="nc" id="L82">    private final List&lt;Pattern&gt; customShopDomains;</span>
    
    /**
     * Custom log function.
     */
<span class="nc" id="L87">    private final LogFunction logFunction;</span>
    
    /**
     * The minimum severity level to log.
     */
    @Builder.Default
<span class="nc" id="L93">    private final LogSeverity logLevel = LogSeverity.INFO;</span>
    
    /**
     * Whether to log HTTP requests.
     */
    @Builder.Default
<span class="nc" id="L99">    private final boolean logHttpRequests = false;</span>
    
    /**
     * Whether to log timestamps.
     */
    @Builder.Default
<span class="nc" id="L105">    private final boolean logTimestamps = false;</span>
    
    /**
     * Whether the app is initialized for local testing.
     */
    @Builder.Default
<span class="nc" id="L111">    private final boolean isTesting = false;</span>
    
    /**
     * The webhook secret key for verifying webhook signatures.
     */
<span class="fc" id="L116">    private final String webhookSecret;</span>
    
    public String getFullHostName() {
<span class="nc" id="L119">        return hostScheme + &quot;://&quot; + hostName;</span>
    }
    
    public boolean hasValidApiCredentials() {
<span class="nc bnc" id="L123" title="All 2 branches missed.">        if (isCustomStoreApp) {</span>
<span class="nc bnc" id="L124" title="All 6 branches missed.">            return apiSecretKey != null &amp;&amp; !apiSecretKey.trim().isEmpty() &amp;&amp;</span>
<span class="nc bnc" id="L125" title="All 2 branches missed.">                   adminApiAccessToken != null &amp;&amp; !adminApiAccessToken.trim().isEmpty();</span>
        } else {
<span class="nc bnc" id="L127" title="All 6 branches missed.">            return apiKey != null &amp;&amp; !apiKey.trim().isEmpty() &amp;&amp;</span>
<span class="nc bnc" id="L128" title="All 2 branches missed.">                   apiSecretKey != null &amp;&amp; !apiSecretKey.trim().isEmpty();</span>
        }
    }
    
    /**
     * Gets the API secret for authentication.
     * This is a convenience method that returns apiSecretKey.
     *
     * @return the API secret
     */
    public String getApiSecret() {
<span class="fc" id="L139">        return apiSecretKey;</span>
    }
    
    /**
     * Checks if webhook verification is enabled.
     *
     * @return true if webhook secret is configured
     */
    public boolean hasWebhookSecret() {
<span class="nc bnc" id="L148" title="All 4 branches missed.">        return webhookSecret != null &amp;&amp; !webhookSecret.trim().isEmpty();</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>